/* zUIx v0.4.9-56 18.08.19 02:16:32 */

'use strict';!function(O){if("object"==typeof exports)module.exports=O();else if("function"==typeof define&&define.amd)define(O);else{var l;"undefined"!=typeof window?l=window:"undefined"!=typeof global?l=global:"undefined"!=typeof self&&(l=self);l.zuix=O()}}(function(){return function l(u,z,a){function k(c,d){if(!z[c]){if(!u[c]){var e="function"==typeof require&&require;if(!d&&e)return e(c,!0);if(h)return h(c,!0);throw Error("Cannot find module '"+c+"'");}e=z[c]={exports:{}};u[c][0].call(e.exports,
function(e){var a=u[c][1][e];return k(a?a:e)},e,e.exports,l,u,z,a)}return z[c].exports}for(var h="function"==typeof require&&require,d=0;d<a.length;d++)k(a[d]);return k}({1:[function(l,u,z){function a(a){e=a}function k(){null!==n&&(cancelAnimationFrame(n),n=null);g++;if(g<c.length&&!e.willBreak())return d(),!0;(g>=c.length||e.willBreak())&&h();return!1}function h(a){g=-1;c.length=0;c=[];e.status(null!=a?a:"done")}function d(){var a=c[g];if(null==a)return!1;var d=function(){null!==n&&(cancelAnimationFrame(n),
n=null);e.doWork(a.item,function(){n=requestAnimationFrame(k)})||k()};if(a.cancelable)if(e.willBreak())h("stopped");else if(null==n)n=requestAnimationFrame(d);else return!1;else d();return!0}a.prototype.isReady=function(){return 0===c.length||-1===g};a.prototype.getJobs=function(){return c};a.prototype.setJobs=function(a){0<c.length?(g=-1,c.length=0):(c=a.slice(),e.status("start",c),k())};a.prototype.append=function(e){this.isReady()?this.setJobs(e):Array.prototype.push.apply(c,e)};var c=[],g=-1,
e=null,n=null;u.exports=function(e){return new a(e)}},{}],2:[function(l,u,z){function a(a){h=window?window.console:{};d=window?window:{};this._timers={};this.args=function(e,a,c){e="%c "+a+" %c"+(new Date).toISOString()+" %c"+e;a=["background-color:rgba(200,200,200,0.2);color:#8a53ff;","background-color:rgba(200,200,200,0.2);color:#777777","background-color:rgba(200,200,200,0.2);color:#888888;"];for(var d=0;d<c.length;d++)if("string"==typeof c[d]&&0===c[d].indexOf("timer:")){var f=c[d].split(":");
if(3===f.length){var b=void 0;switch(f[2]){case "start":this._timers[f[1]]=(new Date).getTime();e+=" %cSTART "+f[1];a.push("background-color:rgba(200,200,200,0.2);color:#999900;");break;case "stop":b=(new Date).getTime()-this._timers[f[1]],e+=" %cSTOP "+f[1]+" "+b+" ms",200<b?a.push("background-color:rgba(200,200,200,0.2);color:#ff0000;"):100<b?a.push("background-color:rgba(200,200,200,0.2);color:#ff7700;"):a.push("background-color:rgba(200,200,200,0.2);color:#00aa00;")}}}e+=" \n%c ";a.push("background-color:transparent;color:inherit;");
for(d=a.length-1;0<=d;d--)Array.prototype.unshift.call(c,a[d]);Array.prototype.unshift.call(c,e);Array.prototype.push.call(c,"\n\n")};this.log=function(e,n){"function"===typeof c&&c.call(a,e,n);d.zuixNoConsoleOutput||(this.args(a,e,n),h.log.apply(h,n))}}var k="log info warn error debug trace dir group groupCollapsed groupEnd time timeEnd profile profileEnd dirxml assert count markTimeline timeStamp clear".split(" "),h=null,d=null,c=null;a.prototype.monitor=function(a){c=a};a.prototype.console=function(a){if(a)window.console=
h;else for(window.console={},a=0;a<k.length;a++)window.console[k[a]]||(window.console[k[a]]=function(){})};a.prototype.i=a.prototype.info=a.prototype.l=a.prototype.log=function(){this.log("INFO",arguments);return this};a.prototype.w=a.prototype.warn=function(){this.log("WARN",arguments);return this};a.prototype.e=a.prototype.error=function(){this.log("ERROR",arguments);return this};a.prototype.d=a.prototype.debug=function(){this.log("DEBUG",arguments);return this};a.prototype.t=a.prototype.trace=
function(){this.log("TRACE",arguments);return this};u.exports=function(c){return new a(c)}},{}],3:[function(l,u,z){function a(a){var d=this;d._worker=null;d._taskList=[];d._requests=[];null==a&&(a=function(){});d.taskQueue=function(c,g,e){d._taskList.push({tid:c,fn:g,status:0,priority:e,step:function(e){k.t(e,"load:step");a(d,"load:step",{task:e})},end:function(){this.status=2;k.t(this.tid,"load:next","timer:task:stop");a(d,"load:next",{task:this.tid});d._taskList.splice(this.index,1);d.taskCheck();
null!=this._callback&&this._callback.call(this)},callback:function(e){this._callback=e}});k.t(c,"task added",e,"priority");d._taskList.sort(function(e,a){return e.priority>a.priority?1:a.priority>e.priority?-1:0});d.taskCheck()};d.taskCheck=function(){for(var c=0;c<d._taskList.length;c++){if(0===d._taskList[c].status){d._taskList[c].status=1;k.t(d._taskList[c].tid,"load:begin","timer:task:start");a(d,"load:begin",{task:d._taskList[c].tid});d._taskList[c].index=c;d._taskList[c].fn.call(d._taskList[c]);
return}if(1===d._taskList[c].status||2===d._taskList[c].status)return}k.t("load:end");a(d,"load:end")}}var k=l("./Logger")("TaskQueue.js");a.prototype.callback=function(a){};a.prototype.queue=function(a,d,c){return this.taskQueue(a,d,c)};u.exports=a},{"./Logger":2}],4:[function(l,u,z){u.exports={isIE:function(){return 0<window.navigator.userAgent.indexOf("Trident")},isNoU:function(a){return"undefined"===typeof a||null===a},isFunction:function(a){return"function"===typeof a},objectEquals:function(a,
k){if(null===a||void 0===a||null===k||void 0===k)return a===k;if(a.constructor!==k.constructor)return!1;if(a instanceof Function||a instanceof RegExp)return a===k;if(a===k||a.valueOf()===k.valueOf())return!0;if(Array.isArray(a)&&a.length!==k.length||a instanceof Date||!(a instanceof Object)||!(k instanceof Object))return!1;var h=Object.keys(a);return Object.keys(k).every(function(a){return-1!==h.indexOf(a)})&&h.every(function(d){return util.objectEquals(a[d],k[d])})},propertyFromPath:function(a,k){if("string"===
typeof k){k=k.replace(/\[(\w+)\]/g,".$1");k=k.replace(/^\./,"");for(var h=k.split("."),d=a,c=0;c<h.length;++c){var g=h[c];if("undefined"!==typeof d[g])d=d[g];else return}return d}},cloneObject:function k(h){if(null===h||"object"!==typeof h)return h;var d=h;try{var d=h.constructor(),c;for(c in h)h.hasOwnProperty(c)&&(d[c]=k(h[c]))}catch(g){}return d},hasPassiveEvents:function(){var k=!1;try{var h=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("testPassive",null,
h);window.removeEventListener("testPassive",null,h)}catch(d){}return k}}},{}],5:[function(l,u,z){function a(b){d(this,b.type,b)}function k(b,E,c,d){var r=!1;f.each(t,function(){if(this.element===b&&this.path===E&&this.handler===c)return e.w("Handler already registered",b,E,c),r=!0,!1});r||(t.push({element:b,path:E,handler:c,opgions:d}),b.addEventListener(E,a,!p||null!=d&&!1===d.passive?!1:{passive:!0}))}function h(b,e,c){var d=1,r=-1;f.each(t,function(a){this.element===b&&this.path===e&&this.handler===
c&&(d--,r=a)});-1!==r&&t.splice(r,1);0===d&&b.removeEventListener(e,a)}function d(b,e,a){var c=f(b);f.each(t,function(){this.element===b&&this.path===e&&this.handler.call(c,a)})}function c(b){f.each(t,function(){this.element===b&&(e.t("Removing event handler",this.element,this.path,this.handler),h(this.element,this.path,this.handler))})}function g(b){this._selection=[];"undefined"===typeof b&&(b=document.documentElement);if(b instanceof g)return b;if(b instanceof HTMLCollection||b instanceof NodeList){var a=
this._selection=[];f.each(b,function(b,e){a.push(e)})}else if(Array.isArray(b))this._selection=b;else if(b===window||b instanceof HTMLElement||b instanceof Node)this._selection=[b];else if("string"===typeof b)this._selection=document.documentElement.querySelectorAll(b);else if(null!==b)throw e.e("ZxQuery cannot wrap object of this type.",typeof b,b),Error("ZxQuery cannot wrap object of this type.");return this}var e=l("./Logger")("TaskQueue.js"),n=l("./Util.js"),p=n.hasPassiveEvents(),t=[];g.prototype.length=
function(){return this._selection.length};g.prototype.parent=function(b){return n.isNoU(b)?new g(this._selection[0].parentNode):new g(f.getClosest(this._selection[0],b))};g.prototype.children=function(b){return n.isNoU(b)?new g(this._selection[0].children):new g(this._selection[0].querySelectorAll(b))};g.prototype.reverse=function(){this._selection=Array.prototype.slice.call(this._selection,0).reverse();return this};g.prototype.get=function(b){n.isNoU(b)&&(b=0);return this._selection[b]};g.prototype.eq=
function(b){var e=this._selection,a=e[b];1<arguments.length&&(a=[],f.each(arguments,function(b,c){null!=e[c]&&a.push(e[c])}));return new g(a)};g.prototype.find=function(b){return new g(this._selection[0].querySelectorAll(b))};g.prototype.each=function(b){f.each(this._selection,b);return this};g.prototype.attr=function(b,e){var a=this;if("object"===typeof b)f.each(b,function(b,e){a.each(function(a,c){c.setAttribute(b,e)})});else{if("undefined"==typeof e)return this._selection[0].getAttribute(b);null===
e?this._selection[0].removeAttribute(b):this.each(function(a,c){this.get().setAttribute(b,e)})}return this};g.prototype.trigger=function(b,e){var a=void 0;window.CustomEvent?a=new CustomEvent(b,{detail:e}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(b,!0,!0,e));this.each(function(b,e){e.dispatchEvent(a)});return this};g.prototype.one=function(b,e){var a=!1;this.on(b,function(c,d){a||(a=!0,f(this).off(b,e),e.call(this,c,d))});return this};g.prototype.on=function(b,e){var a=b.match(/\S+/g)||
[],c=void 0;"function"!==typeof e&&(c=e,e=c.handler);this.each(function(b,d){f.each(a,function(b,a){k(d,a,e,c)})});return this};g.prototype.off=function(b,e){var a=b.match(/\S+/g)||[];this.each(function(b,c){f.each(a,function(b,a){h(c,a,e)})});return this};g.prototype.reset=function(){this.each(function(b,e){c(e)});return this};g.prototype.isEmpty=function(){return 0===this._selection[0].innerHTML.replace(/\s/g,"").length};g.prototype.position=function(){return null!=this._selection[0]?f.getPosition(this._selection[0]):
{x:-1,y:-1,visible:!1}};g.prototype.css=function(b,e){var a=this;if("object"===typeof b)f.each(b,function(b,e){a.each(function(a,c){c.style[b]=e})});else{if(n.isNoU(e))return this._selection[0].style[b];a.each(function(a,c){c.style[b]=e})}return this};g.prototype.addClass=function(b){var e=b.match(/\S+/g)||[];f.each(this._selection,function(a,c){c.classList?f.each(e,function(b,e){c.classList.add(e)}):c.className+=" "+b});return this};g.prototype.hasClass=function(b){return f.hasClass(this._selection[0],
b)};g.prototype.removeClass=function(b){var e=b.match(/\S+/g)||[];f.each(this._selection,function(a,c){c.classList?f.each(e,function(b,e){c.classList.remove(e)}):c.className=c.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")});return this};g.prototype.prev=function(){return new g(this._selection[0].previousElementSibling)};g.prototype.next=function(){return new g(this._selection[0].nextElementSibling)};g.prototype.html=function(b){if(n.isNoU(b))return this._selection[0].innerHTML;
this.each(function(e,a){a.innerHTML=b});return this};g.prototype.checked=function(b){if(n.isNoU(b)){var e=this._selection[0].checked;return null!=e&&"false"!=e&&(e||"checked"==e)}this.each(function(e,a){a.checked=b});return this};g.prototype.value=function(b){if(n.isNoU(b))return this._selection[0].value;this.each(function(e,a){a.value=b});return this};g.prototype.append=function(b){"string"===typeof b?this._selection[0].innerHTML+=b:this._selection[0].appendChild(b);return this};g.prototype.insert=
function(b,e){var a=this.children().get(b);null!==a?this._selection[0].insertBefore(e,a):this._selection[0].appendChild(e);return this};g.prototype.prepend=function(b){"string"===typeof b?this._selection[0].innerHTML=b+this._selection[0].innerHTML:this._selection[0].insertBefore(b,this._selection[0].firstElementChild);return this};g.prototype.detach=function(){var b=this._selection[0],a=b.parentNode;null!=a&&(b.__zuix_oldParent=a,b.__zuix_oldIndex=Array.prototype.indexOf.call(a.children,b),a.removeChild(b),
e.t("Detached from parent",a,b));return this};g.prototype.attach=function(){var b=this._selection[0];null==b.parentNode&&null!=b.__zuix_oldParent&&(f(b.__zuix_oldParent).insert(b.__zuix_oldIndex,b),b.__zuix_oldParent=null,delete b.__zuix_oldParent,delete b.__zuix_oldIndex);return this};g.prototype.display=function(b){if(n.isNoU(b))return this._selection[0].style.display;f.each(this._selection,function(e,a){a.style.display=b});return this};g.prototype.visibility=function(b){if(n.isNoU(b))return this._selection[0].style.visibility;
f.each(this._selection,function(e,a){a.style.visibility=b});return this};g.prototype.show=function(b){return this.display(null==b?"":b)};g.prototype.hide=function(){return this.display("none")};var f=function(b){return new g(b)};f.find=function(b){return f().find(b)};f.each=function(b,e){var a=null==b?0:Object.keys(b).length;if(0<a){var c=0,d;for(d in b)if(b.hasOwnProperty(d)){var q=b[d];q instanceof Element&&(q=f(q));if(!1===e.call(q,d,b[d]))break;c++;if(c>=a)break}}return this};f.ajax=function(b){var e=
void 0,e=n.isNoU(b)||n.isNoU(b.url)?b:b.url,a=new XMLHttpRequest;a.open("GET",e);a.onload=function(){200===a.status?n.isFunction(b.success)&&b.success(a.responseText):n.isFunction(b.error)&&b.error(a);n.isFunction(b.then)&&b.then(a)};a.send();return this};f.hasClass=function(b,e){var a=e.match(/\S+/g)||[],c=!1;f.each(a,function(e,a){if(c=b.classList?b.classList.contains(a):(new RegExp("(^| )"+a+"( |$)","gi")).test(b.className))return!1});return c};f.classExists=function(b){b=b.match(/\S+/g)||[];var e=
!1;f.each(b,function(b,a){var c=document.styleSheets;if(null!=c)for(var d=0;d<c.length;d++)try{var f=c[d].rules||c[d].cssRules;if(null!=f)for(var h=0;h<f.length;h++)if(f[h].selectorText===a){e=!0;break}}catch(g){if("SecurityError"!==g.name&&"InvalidAccessError"!==g.name)throw g;}});return e};f.wrapElement=function(b,e){var a=document.createElement(b);"string"===typeof e?a.innerHTML=e:a.appendChild(e);return a};f.wrapCss=function(b,a){var c=/(([a-zA-Z0-9\240-\377=:-_\n,.@]+.*){([^{}]|((.*){([^}]+)[}]))*})/g,
d="",h=void 0;a=a.replace(/\/\*[\s\S]*?\*\/|([^:]|^)\/\/.*$/g,"");var q={isMediaQuery:void 0,classes:void 0};do{if((h=c.exec(a))&&1<h.length){var m=h[2];null!=m&&0<m.length?(m=m.replace(/\n/g,""),q.classes=m.split(","),q.isMediaQuery=!1,f.each(q.classes,function(a){return function(e,c){"."===c.replace(" ","")?d+="\n"+b+" ":"@"===c.trim()[0]?(d+=c+" ",c.trim().toLowerCase().startsWith("@media")&&(a.isMediaQuery=!0)):d+="\n"+b+"\n"+c+" ";e<a.classes.length-1&&(d+=", ")}}(q)),q.isMediaQuery?(m=f.wrapCss(b,
h[1].substring(h[2].length).replace(/^{([^\0]*?)}$/,"$1")),d+="{\n  "+m+"\n}"):d+=h[1].substring(h[2].length)+"\n"):e.w("z$.wrapCss was unable to parse rule.",m,h)}q={isMediaQuery:q.isMediaQuery,classes:q.classes}}while(h);""!==d&&(a=d);return a};f.appendCss=function(b,a,e){var c=document.head||document.getElementsByTagName("head")[0],d=null;n.isNoU(a)?(a=document.getElementById(e),null!=a&&c.removeChild(a)):c.removeChild(a);"string"===typeof b?(d=document.createElement("style"),d.type="text/css",
d.id=e,d.styleSheet?d.styleSheet.cssText=b:d.appendChild(document.createTextNode(b))):b instanceof Element&&(d=b);n.isNoU(d)||c.appendChild(d);return d};f.replaceCssVars=function(b,a){for(var e=new RegExp(/\B\$var\[(.*[^\[\]])]/g),c="",d=0,f=0,h=void 0;h=e.exec(b);){var g=h[0];if(1<h.length){var n=h[1],p=a;if(0<n.indexOf(".")){for(var n=n.split("."),t=0;t<n.length-1&&(p=p[n[t]],"undefined"!==typeof p);t++);"undefined"!==typeof p&&(g=p[n[n.length-1]],d++)}else"undefined"!==typeof p[n]&&(g=p[n],d++)}c+=
b.substr(f,h.index-f)+g;f=h.index+h[0].length}0<d&&(b=c+=b.substr(f));return b};f.replaceBraces=function(b,a){for(var e=new RegExp(/{?{.*?}?}/g),c="",d=0,f=0,h=void 0;h=e.exec(b);)if("string"===typeof h[0]&&(0===h[0].trim().length||0<=h[0].indexOf("\n")))h=b.substr(f,h.index-f)+h[0],c+=h,f+=h.length;else{var g=h[0];if("function"===typeof a){var p=a(h[0]);n.isNoU(p)||(g=p,d++)}c+=b.substr(f,h.index-f)+g;f=h.index+h[0].length}return 0<d?c+=b.substr(f):null};f.getClosest=function(a,e){for(;a&&a!==document;a=
a.parentNode)if(a.matches(e))return a;return null};f.getPosition=function(a,e){for(var c=0,d=0,h=a.getBoundingClientRect(),g=a;g;){if("body"===g.tagName.toLowerCase())var n=g.scrollTop||document.documentElement.scrollTop,c=c+(g.offsetLeft-(g.scrollLeft||document.documentElement.scrollLeft)+g.clientLeft),d=d+(g.offsetTop-n+g.clientTop);else c+=g.offsetLeft-g.scrollLeft+g.clientLeft,d+=g.offsetTop-g.scrollTop+g.clientTop;g=g.offsetParent}c={x:c,y:d,rect:h,visible:!1};h=a.offsetParent;if(null!=h){if(h!==
document.body){for(d=h.offsetParent;null!=d&&null!==d.offsetParent&&d.offsetHeight===d.scrollHeight;)d=d.offsetParent;null!=d&&(h=d)}d=h.getBoundingClientRect();h===document.body&&(d={x:d.x,y:d.y,width:document.documentElement.offsetWidth||document.documentElement.clientWidth,height:document.documentElement.offsetHeight||document.documentElement.clientHeight,top:0,left:0,right:document.documentElement.clientWidth||document.documentElement.offsetWidth,bottom:document.documentElement.clientHeight||
document.documentElement.offsetHeight});null==e&&(e=0);h=a.getBoundingClientRect();g=!(h.left-1>d.right-e||h.right+1<d.left+e||h.top-1>d.bottom-e||h.bottom+1<d.top+e);c.visible=g;c.frame={dx:(h.left+h.width/2-d.left)/d.width,dy:(h.top+h.height/2-d.top)/d.height};a=f(a);!g&&a.hasClass("--ui--visible")?(a.removeClass("--ui--visible"),c.event="exit"):g?g&&(a.hasClass("--ui--visible")?c.event="scroll":(c.event="enter",a.addClass("--ui--visible"))):c.event="off-scroll"}return c};f.ZxQuery=g;Element.prototype.matches||
(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var e=a.length;0<=--e&&a.item(e)!==this;);return-1<e});(function(){function a(e,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");c.initCustomEvent(e,b.bubbles,b.cancelable,
b.detail);return c}if("function"===typeof window.CustomEvent)return!1;a.prototype=window.Event.prototype;window.CustomEvent=a})();String.prototype.hashCode=function(){var a=0;if(0===this.length)return a;for(var e=0;e<this.length;e++)var c=this.charCodeAt(e),a=(a<<5)-a+c,a=a|0;return a};String.prototype.startsWith||(String.prototype.startsWith=function(a,e){return this.substr(!e||0>e?0:+e,a.length)===a});u.exports=f},{"./Logger":2,"./Util.js":4}],6:[function(l,u,z){l=l("./zuix/Zuix.js");"object"===
typeof u&&u.exports?u.exports=l.call(this):this.zuix=l.call(this)},{"./zuix/Zuix.js":12}],7:[function(l,u,z){u.exports=function(a){return null}},{}],8:[function(l,u,z){function a(a,c,d){g=a;this._options=null;this.contextId=null==c||null==c.contextId?null:c.contextId;this.componentId=null;this.trigger=function(a,e,b){"function"===typeof d&&d(a,e,b)};this.behavior=this._controller=this._style=this._css=this._view=this._model=this._container=null;this._eventMap=[];this._behaviorMap=[];this._c=null;
this.options(c);return this}var k=l("../helpers/Logger")("ComponentContext.js"),h=l("./OptionAttributes")(),d=l("../helpers/ZxQuery"),c=l("../helpers/Util"),g=null;a.prototype.container=function(a){if(null==a)return this._container;a instanceof d.ZxQuery&&(a=a.get());this._container=a;return this};a.prototype.view=function(a){if("undefined"===typeof a)return this._view;a instanceof d.ZxQuery&&(a=a.get());k.t(this.componentId,"view:attach","timer:view:start");if("string"===typeof a){a={content:a};
this.trigger(this,"html:parse",a);a=a.content;var c=d.wrapElement("div",a);null!=c.firstElementChild&&(null!=c.firstElementChild.getAttribute(h.dataUiView)?1===c.children.length&&(a=c.firstElementChild.innerHTML):a=c.innerHTML);null!=this._container?(this._view=this._container,this._view.innerHTML+=a):null!=this._view?this._view.innerHTML=a:this._view=c;d(this._view).find("script").each(function(a,e){"true"!==this.attr("zuix-loaded")&&(this.attr("zuix-loaded","true"),eval.call(window,e.innerHTML))});
this.trigger(this,"view:process",d(this._view))}else a instanceof d.ZxQuery&&(a=a.get()),null!=this._container?(this._view=d.wrapElement("div",a.outerHTML).firstElementChild,this._view.removeAttribute(h.dataUiView),this._container.appendChild(this._view),this._view=this._container):this._view=a;a=d(this._view);!1===this._options.css?a.addClass("zuix-css-ignore"):a.removeClass("zuix-css-ignore");a.find("["+h.dataUiLoad+"]").each(function(a,e){this.attr(h.dataUiLoaded,"false")});this.modelToView();
k.t(this.componentId,"view:attach","timer:view:stop");return this};a.prototype.style=function(a){if("undefined"===typeof a)return this._style;k.t(this.componentId,"view:style","timer:view:start");null==a||a instanceof Element?(this._css=a instanceof Element?a.innerText:a,this._style=d.appendCss(a,this._style,this.componentId)):"string"===typeof a&&(this._css=a,a={content:a},this.trigger(this,"css:parse",a),a=a.content,a=d.wrapCss("["+h.dataUiComponent+'="'+this.componentId+'"]:not(.zuix-css-ignore)',
a),this._style=d.appendCss(a,this._style,this.componentId));k.t(this.componentId,"view:style","timer:view:stop");return this};a.prototype.model=function(a){if("undefined"===typeof a)return this._model;this._model=a;this.modelToView();null!=this._c&&c.isFunction(this._c.update)&&this._c.update.call(this._c);return this};a.prototype.controller=function(a){if("undefined"===typeof a)return this._controller;this._controller=a;return this};a.prototype.options=function(a){if(null==a)return this._options;
var c=this._options=this._options||{};d.each(a,function(a,e){c[a]=e});null!=c.componentId&&(this.componentId=c.componentId);this.container(c.container);this.view(c.view);"undefined"!==typeof c.css&&this.style(c.css);this.controller(c.controller);this.model(c.model);return this};a.prototype.on=function(a,c){this._c.on(a,c);return this};a.prototype.loadCss=function(a,h){var p=this;c.isNoU(a)&&(a={});c.isNoU(a.caching)||(h=a.caching);var t=p.componentId+".css";c.isNoU(a.path)||(t=a.path);h||(t+="?"+
(new Date).getTime());d.ajax({url:g.getResourcePath(t),success:function(d){p.style(d);c.isFunction(a.success)&&a.success.call(p,d)},error:function(d){k.e(d,p);c.isFunction(a.error)&&a.error.call(p,d)},then:function(){c.isFunction(a.then)&&a.then.call(p)}});return this};a.prototype.loadHtml=function(a,n){var p=this,t=p.componentId;c.isNoU(a)&&(a={});c.isNoU(a.caching)||(n=a.caching);c.isNoU(a.path)||(t=a.path);var f=g.store("zuix.inlineViews");null==f&&(f=[],g.store("zuix.inlineViews",f));if(null!=
f[t])p.view(f[t]),c.isFunction(a.success)&&a.success.call(p,f[t]),c.isFunction(a.then)&&a.then.call(p);else{var b=d().find("["+h.dataUiView+'="'+t+'"]:not(['+h.dataUiComponent+'*=""])');if(0<b.length()){var l=b.get(0);f[t]=l.innerHTML;p.view()===l||null!=p.container()&&p.container().contains(l)?(b.attr(h.dataUiView,null),p._view=l,this.trigger(this,"view:process",d(p.view()))):p.view(l.innerHTML);c.isFunction(a.success)&&a.success.call(p,l.innerHTML);c.isFunction(a.then)&&a.then.call(p)}else f=c.isNoU(a.cext)?
".html":a.cext,t==p.componentId&&(t+=f+(n?"":"?"+(new Date).getTime())),d.ajax({url:g.getResourcePath(t),success:function(b){p.view(b);c.isFunction(a.success)&&a.success.call(p,b)},error:function(b){k.e(b,p);c.isFunction(a.error)&&a.error.call(p,b)},then:function(){c.isFunction(a.then)&&a.then.call(p)}})}return this};a.prototype.viewToModel=function(){k.t(this.componentId,"view:model","timer:vm:start");var a=this;this._model={};d(this._view).find("["+h.dataUiField+"]").each(function(d,g){if(0<this.parent("pre,code").length())return!0;
var k=this.attr(h.dataUiField),f=!c.isNoU(g.innerHTML)&&c.isIE()?g.cloneNode(!0):g;if(0<k.indexOf(".")){for(var k=k.split("."),b=a._model,l=0;l<k.length-1;l++)"undefined"===typeof b[k[l]]&&(b[k[l]]={}),b=b[k[l]];b[k[k.length-1]]=f}else a._model[k]=f});k.t(this.componentId,"view:model","timer:vm:stop");return this};a.prototype.modelToView=function(){k.t(this.componentId,"model:view","timer:mv:start");if(null!=this._view&&null!=this._model){var a=this;d(this._view).find("["+h.dataUiField+"]").each(function(g,
k){if(0<this.parent("pre,code").length())return!0;var l=this.attr(h.dataBindTo);null==l&&(l=this.attr(h.dataUiField));if("function"===typeof a._model)a._model.call(d(a._view),this,l);else{var f=c.propertyFromPath(a._model,l);if("function"===typeof f)f.call(d(a._view),this,l);else if(null!=f)switch(k.tagName.toLowerCase()){case "img":k.src=c.isNoU(f.src)?c.isNoU(f.innerHTML)?f:f.innerHTML:f.src;f.alt&&(k.alt=f.alt);break;case "a":k.href=c.isNoU(f.href)?c.isNoU(f.innerHTML)?f:f.innerHTML:f.getAttribute("href");
f.title&&(k.title=f.title);c.isNoU(f.href)||c.isNoU(f.innerHTML)||""===f.innerHTML.trim()||(k.innerHTML=f.innerHTML);break;case "input":k.value=c.isNoU(f.value)?c.isNoU(f.innerHTML)?f:f.innerHTML:f.value;break;default:if(k.innerHTML=c.isNoU(f.innerHTML)?f:f.innerHTML,null!=f.attributes)for(l=0;l<f.attributes.length;l++){var b=f.attributes[l];b.specified&&b.name!==h.dataUiField&&("+"===b.value[0]&&k.hasAttribute(b.name)&&(b.value=k.getAttribute(b.name)+" "+b.value.substring(1)),k.setAttribute(b.name,
b.value))}}}})}k.t(this.componentId,"model:view","timer:mv:stop");return this};u.exports=a},{"../helpers/Logger":2,"../helpers/Util":4,"../helpers/ZxQuery":5,"./OptionAttributes":11}],9:[function(l,u,z){function a(){}function k(a,b){null!=a&&(H=!a);null!=b&&(J=b);return!C&&!H}function h(a){null==a&&(a=document);F.indexOf(a)||F.push(a)}function d(a){for(var b=0;b<A.length;b++){var c=A[b];if(c.element===a)return c.waiting}return null}function c(a){null==a&&0<F.length&&(a=F.unshift());a instanceof v.ZxQuery&&
(a=a.get());var b=d(a),b=v(a).find("["+r.dataUiLoad+"]:not(["+r.dataUiLoaded+"]),["+r.dataUiInclude+"]:not(["+r.dataUiLoaded+"])"),b=Array.prototype.slice.call(b._selection);A.push({element:a,waiting:b});a=[];for(var c=0;c<b.length;c++){var e=b[c],w=parseInt(e.getAttribute(r.dataUiPriority));isNaN(w)&&(w=0);for(var h=0,f=e.parentNode,g=!1;null!=f&&f!==document;){h++;if(null!=f.getAttribute(r.dataUiView)){g=!0;break}f=f.parentNode}g||(f=new B,f.element=e,f.priority=w+1E3*h,a.push(f))}for(c=b=0;c<a.length;c++){e=
!1;for(w=0;w<y.length;w++)if(a[c].element===y[w].element){e=!0;break}e||(e=a[c].element,w=e.getAttribute(r.dataUiOptions),t(e,w),y.push(a[c]),b++)}q.t("componentize:count",y.length,b);(0===b||0===F.length&&0===y.length)&&D.trigger(this,"componentize:end")}function g(){y.sort(function(a,w){return a.priority-w.priority});for(var a=null,b=0<y.length?y.shift():null;null!=b&&null!=b.element;){var c=N(b.element);k()&&c?(b.lazy=!0,b.visible=v.getPosition(b.element,J).visible):(b.lazy=!1,b.visible=!0);if(null!=
b&&null!=b.element&&b.visible){a={item:b,cancelable:b.lazy};break}if(0<y.length)b=y.shift();else break}return a}function e(a){c(a);a=g();null!=a&&K.append([a])}function n(a){var b=v(a);if(null!=b.attr(r.dataUiLoaded)||0<b.parent("pre,code").length())return!1;b.attr(r.dataUiLoaded,"true");var c=b.attr(r.dataUiOptions);m.isNoU(c)?c={}:(c=m.propertyFromPath(window,c),c=m.cloneObject(c)||{});var d=b.attr(r.dataUiContext);if(!m.isNoU(d)){var w=D.context(d);null!==w&&(c=w.options());c.contextId=d}m.isNoU(c.view)&&
!b.isEmpty()?(c.view=a,c.viewDeferred=!0):m.isNoU(c.view)&&m.isNoU(c.container)&&b.isEmpty()&&(c.container=a);d=b.attr(r.dataUiLoad);if(m.isNoU(d))if(d=b.attr(r.dataUiInclude),null!=d)d=p(d),b.attr(r.dataUiInclude,d),b.attr(r.dataUiComponent,d),m.isNoU(c.controller)&&(c.controller=function(){});else return!1;else d=p(d),b.attr(r.dataUiLoad,d);w=b.attr(r.dataBindModel);!m.isNoU(w)&&0<w.length&&(c.model=m.propertyFromPath(window,w));b=b.attr(r.dataUiPriority);m.isNoU(b)||(c.priority=parseInt(b));v(a).one("component:ready",
function(){h(a);e(a)});D.load(d,c);return!0}function p(a){var b=D.store("config");null!=b&&null!=b[location.host]&&(b=b[location.host]);b=null!=b&&null!=b.libraryPath?b.libraryPath:"https://genielabs.github.io/zkit/lib/";a.startsWith("@lib/")&&(a=b+a.substring(5));return a}function t(a,b){"string"===typeof b&&(b=m.propertyFromPath(window,b));null!=a&&null!=b&&(null!=b.lazyLoad&&a.setAttribute(r.dataUiLazyload,b.lazyLoad.toString().toLowerCase()),null!=b.contextId&&a.setAttribute(r.dataUiContext,b.contextId.toString().toLowerCase()),
null!=b.componentId&&a.setAttribute(r.dataUiLoad,b.componentId.toString().toLowerCase()))}function f(a){for(var b=0;b<M.length;b++){var c=M[b];if(c.element===a)return c}return null}function b(a){a={element:a};M.push(a);return a}function E(a){for(var b=0;b<x.length;b++){var c=x[b];if(c.element===a)return c}return null}function L(a){a={element:a};x.push(a);return a}function N(a){if("false"===a.getAttribute(r.dataUiLazyload))return!1;var c=f(a);if(null==c){var d=v.getClosest(a.parentNode,"["+r.dataUiLazyload+
"=scroll],["+r.dataUiLazyload+"=true]");if(null!=d)return c=b(a),a=E(d),null==a&&(a=L(d),"scroll"===d.getAttribute(r.dataUiLazyload)&&function(a,b){var c=(new Date).getTime();v(b===document.body?window:b).on("scroll",function(){var a=(new Date).getTime();100<a-c&&(c=a,e(b))})}(this,d)),!0;if("true"===a.getAttribute(r.dataUiLazyload))return c=b(a),!0}else return!0;return!1}var r=l("./OptionAttributes")();a.prototype.componentize=function(a,b){D.trigger(this,"componentize:begin");if(null!=b){var c=
d(a);null==c?A.push({element:a,waiting:[b]}):c.push(b)}else h(a);e(a);return this};a.prototype.applyOptions=function(a,b){t(a,b);return this};a.prototype.resolvePath=function(a){return p(a)};a.prototype.willLoadMore=function(){return 0<y.length||0<F.length};a.prototype.lazyLoad=function(a,b){return k(a,b)};a.prototype.dequeue=function(a){for(var b=0;b<y.length;b++)if(y[b].element===a){y.splice(b,1);break}};a.prototype.setHost=function(a){D=a;return this};u.exports=function(){return new a};var q=l("../helpers/Logger")("ComponentContext.js"),
m=l("../helpers/Util"),v=l("../helpers/ZxQuery"),F=[],y=[],M=[],x=[],B=function(){return{element:null,priority:0,visible:!0,lazy:!1}},K=l("./../helpers/AsynChain")({doWork:function(a,b){v(a.element).one("component:ready",function(){b()});return n(a.element)},willBreak:function(){return!1},status:function(a){switch(a){case "done":e()}}}),H=!1,J=1,D=null,C=!1;navigator&&navigator.userAgent&&(C=(new RegExp(/bot|googlebot|crawler|spider|robot|crawling/i)).test(navigator.userAgent));C&&q.d(navigator.userAgent,
"is a bot, ignoring `lazy-loading` option.");var A=[]},{"../helpers/Logger":2,"../helpers/Util":4,"../helpers/ZxQuery":5,"./../helpers/AsynChain":1,"./OptionAttributes":11}],10:[function(l,u,z){function a(a){var d=this;this._view=null;this.context=a;this._fieldCache=[];this.destroy=this.update=this.create=this.init=null;this._childNodes=[];this.saveView=function(){this.restoreView();this.view().children().each(function(a,c){d._childNodes.push(c)})};this.restoreView=function(){0<this._childNodes.length&&
(d.view().html(""),k.each(d._childNodes,function(a,c){d.view().append(c)}),this._childNodes.length=0)};this.on=function(a,c){this.addEvent(a,c);return this};this.mapEvent=function(a,c,d,b){null!=c&&(c.off(d,this.eventRouter),a[d]=b,c.on(d,this.eventRouter))};this.eventRouter=function(c){"function"===typeof a._behaviorMap[c.type]&&a._behaviorMap[c.type].call(d.view(),c,c.detail);"function"===typeof a._eventMap[c.type]&&a._eventMap[c.type].call(d.view(),c,c.detail)};var c=a.options(),g=null;if(null!=
c.on)for(var e in c.on)c.on.hasOwnProperty(e)&&(g=c.on[e],d.addEvent(e,g));if(null!=c.behavior)for(var l in c.behavior)c.behavior.hasOwnProperty(l)&&(g=c.behavior[l],d.addBehavior(l,g));a.controller().call(this,this);return this}var k=l("../helpers/ZxQuery");a.prototype.addEvent=function(a,d){this.mapEvent(this.context._eventMap,this.view(),a,d);return this};a.prototype.addBehavior=function(a,d){this.mapEvent(this.context._behaviorMap,this.view(),a,d);return this};a.prototype.field=function(a){return null};
a.prototype.clearCache=function(){this._fieldCache.length=0};a.prototype.view=function(a){if(null!=this.context.view()||this._view!==this.context.view())this.clearCache(),this._view=k(this.context.view());if(null!=a)return this._view.find(a);if(null!==this._view)return this._view;throw Error("Not attached to a view yet.");};a.prototype.model=function(a){if(null==a)return this.context.model();this.context.model(a);return this};a.prototype.options=function(){return this.context.options()};a.prototype.trigger=
function(a,d,c){null==this.context._eventMap[a]&&!0!==c&&this.addEvent(a,null);!0===c?(c=this.context.container(),null==c&&(c=this.context.view()),null!=c&&k(c).trigger(a,d),this.context.trigger(this.context,a,d)):this.view().trigger(a,d);return this};a.prototype.expose=function(a,d){if("object"===typeof a){var c=this;k.each(a,function(a,d){c.context[a]=d})}else this.context[a]=d;return this};a.prototype.loadCss=function(a){this.context.loadCss(a);return this};a.prototype.loadHtml=function(a){this.saveView();
this.context.loadHtml(a);return this};a.prototype.log={};a.prototype.for=function(a){return this};u.exports=a},{"../helpers/ZxQuery":5}],11:[function(l,u,z){var a=Object.freeze({dataBindModel:"data-bind-model",dataBindTo:"data-bind-to",dataUiComponent:"data-ui-component",dataUiContext:"data-ui-context",dataUiField:"data-ui-field",dataUiInclude:"data-ui-include",dataUiLazyload:"data-ui-lazyload",dataUiLoad:"data-ui-load",dataUiLoaded:"data-ui-loaded",dataUiOptions:"data-ui-options",dataUiPriority:"data-ui-priority",
dataUiView:"data-ui-view",zuixLoaded:"zuix-loaded"});u.exports=function(k){return a}},{}],12:[function(l,u,z){function a(){x.setHost(this);this._store=[];this._fieldCache=[];return this}function k(a){"function"!==typeof a["for"]&&(a["for"]=function(b){return J[b]=a});return a}function h(a,b,c){m.isNoU(c)&&(c=this);null==c._fieldCache&&(c._fieldCache={});var d=null;if("undefined"===typeof c._fieldCache[a]){if(d=v(b).find("["+B.dataUiField+'="'+a+'"]'),null!=d&&0<d.length()&&(c._fieldCache[a]=d,1===
d.length()&&m.isNoU(d.field))){var e=this;d.field=function(a){return e.field(a,d,d)}}}else d=c._fieldCache[a];return d}function d(a){var b=zuix.store("config");null!=b&&null!=b[location.host]&&(b=b[location.host]);a=x.resolvePath(a);!a.startsWith("//")&&0>a.indexOf("://")&&(a=(null!=b&&null!=b.resourcePath?b.resourcePath:"")+a);return a}function c(a,c){var d=f(a.componentId);null!==d&&null==c.controller&&null==a.controller()&&(a.controller(d.controller),q.t(a.componentId+":js","component:cached:js"));
if(m.isNoU(c.view)){if(null!==d&&(null!=d.view&&(a.view(d.view),q.t(a.componentId+":html","component:cached:html")),!1!==c.css&&(c.css=!1,d.css_applied||(d.css_applied=!0,a.style(d.css),q.t(a.componentId+":css","component:cached:css")))),m.isNoU(a.view()))return P("resource-loader").queue(a.componentId+":html",function(){A[a.componentId]=this;a.loadHtml({cext:c.cext,caching:I,success:function(e){null==d&&(d=E(a));d.view=e;delete d.controller;!1!==c.css?(A[a.componentId].step(a.componentId+":css"),
a.loadCss({caching:I,success:function(a){d.css=a},error:function(b){q.e(b,a)},then:function(){b(a,A[a.componentId])}})):b(a,A[a.componentId])},error:function(b){q.e(b,a);m.isFunction(c.error)&&a.error.call(a,b)}})},c.priority),a}else a.view(c.view);null==a.controller()?P("resource-loader").queue(a.componentId+":js",function(){A[a.componentId]=this;b(a,A[a.componentId])},K.length):b(a);return a}function g(a){if(a instanceof Element){var b=a;a=zuix.context(b);x.dequeue(b)}m.isNoU(a)||(m.isNoU(a._c)||
(m.isNoU(a._c.view())||(a._c.view().attr(B.dataUiComponent,null),a._c.view().reset(),m.isNoU(a._c._fieldCache)||v.each(a._c._fieldCache,function(a,b){b.reset()}),a._c.view().detach()),m.isFunction(a._c.destroy)&&a._c.destroy.call(a)),a=a.container(),null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a))}function e(a){a=new y(zuix,a,p);K.push(a);return a}function n(a,b){var c=null;if(a instanceof v.ZxQuery)a=a.get();else if("string"===typeof a){var d=v.find("["+B.dataUiContext+'="'+a+'"]');0<d.length()&&
(a=d.get())}v.each(K,function(b,d){if(a instanceof Element&&(d.view()===a||d.container()===a)||m.objectEquals(d.contextId,a))return c=d,!1});if("function"===typeof b&&(a instanceof Element||a instanceof v.ZxQuery))if(null==c)v(a).one("component:ready",function(){c=zuix.context(this);b.call(c,c)});else b.call(c,c);return c}function p(a,b,c){m.isFunction(H[b])&&H[b].call(a,c)}function t(a){null!=a&&(I=a);return I}function f(a){var b=null;v.each(G,function(c,d){if(m.objectEquals(d.componentId,a))return b=
d,!1});return b}function b(a,b){if("undefined"===typeof a.options().controller&&null===a.controller())if(q.d(a.componentId,"controller:load"),m.isNoU(b)||b.step(a.componentId+":js"),m.isFunction(J[a.componentId]))a.controller(J[a.componentId]),L(a,b);else{var c=function(b){var c=a.componentId+".js"+(I?"":"?"+(new Date).getTime());v.ajax({url:d(c),success:function(b){try{var c=b.indexOf("function"),d=b.indexOf(".load");1<d&&d<c&&(b=b.substring(0,d-4));var e=b.indexOf(".controller");1<e&&e<c&&(b=b.substring(e+
11));var f=b.indexOf("//<--controller");0<f&&(b=b.substring(0,f));b+='\n//# sourceURL="'+a.componentId+'.js"\n';a.controller(r(b))}catch(g){q.e(Error(),g,b,a),m.isFunction(a.error)&&a.error.call(a,g)}},error:function(b){q.e(b,Error(),a);m.isFunction(a.error)&&a.error.call(a,b)},then:function(){L(a,b)}})};m.isNoU(b)?P("resource-loader").queue(a.componentId+":js",function(){c(A[a.componentId]=this)},a.options().priority):c(b)}else L(a,b)}function E(a){var b=a.view().innerHTML,b=v.wrapElement("div",
b),b={componentId:a.componentId,view:b.innerHTML,css:a._css,controller:a.controller()};G.push(b);q.t(a.componentId,"bundle:added");return b}function L(a,b){A[a.componentId]=null;if(m.isNoU(a.view()))q.e(a.componentId,"component:view:undefined");else{var c=f(a.componentId);a.options().viewDeferred?q.w(a.componentId,"component:deferred:load"):null===c?c=E(a):null==c.controller&&(c.controller=a.controller());null!=b&&b.callback(function(){q.d(a.componentId,"controller:create:deferred");N(a._c)});var d=
v(a.view());null==d.attr(B.dataUiContext)&&d.attr(B.dataUiContext,a.contextId);q.d(a.componentId,"component:initializing");if(m.isFunction(a.controller())){d=a._c=new M(a);d.log=l("../helpers/Logger")(a.contextId);"function"===typeof d.init&&d.init();if(!m.isNoU(d.view()))if(null==d.view().attr(B.dataUiComponent)&&d.view().attr(B.dataUiComponent,a.componentId),m.isNoU(a.model())&&!m.isNoU(a.view())&&a.viewToModel(),d.trigger("view:apply"),a.options().viewDeferred){a.options().viewDeferred=!1;d.saveView();
null===c&&(c={componentId:a.componentId,controller:a.controller()},G.push(c),q.t(a.componentId,"bundle:added"),q.d(a.componentId,"component:deferred:load"));var e=-1;!1!==a.options().css&&(null==c.css?(-1===e&&(e=0),e++,a.loadCss({caching:I,success:function(b){null==c.css&&(c.css=b);q.d(a.componentId,"component:deferred:css",e)},then:function(){0===--e&&null!=b&&b.end()}})):a.style(c.css));!1!==a.options().html&&(null==c.view?(-1===e&&(e=0),e++,a.loadHtml({cext:a.options().cext,caching:I,success:function(b){null==
c.view&&(c.view=b);q.d(a.componentId,"component:deferred:html",e)},error:function(b){q.e(b,a);m.isFunction(a.options().error)&&a.options().error.call(a,b)},then:function(){0===--e&&null!=b&&b.end()}})):a.view(c.view));-1===e&&null!=b&&b.end()}else null!=b&&b.end();null==b&&(q.d(a.componentId,"controller:create"),N(d))}else q.w(a.componentId,"component:controller:undefined")}}function N(a){q.t(a.context.componentId,"controller:init","timer:init:start");a.view().find("["+B.dataUiLoaded+'="false"]:not(['+
B.dataUiComponent+"])").each(function(a,b){this.attr(B.dataUiLoaded,null)});a.field=function(b){b=h(b,a.view(),a);b.on=function(b,c,d,e){if("string"===typeof c){var f=c;c=function(){a.trigger(f,d,e)}}return v.ZxQuery.prototype.on.call(this,b,c)};return b};m.isFunction(a.create)&&a.create();a.trigger("view:create");m.isFunction(a.context.ready)&&a.context.ready.call(a.context,a.context);a.trigger("component:ready",a.view(),!0);q.t(a.context.componentId,"controller:init","timer:init:stop");q.i(a.context.componentId,
"component:loaded",a.context.contextId);if(null!=C[a.context.componentId]){var b=C[a.context.componentId];C[a.context.componentId]=null;for(var d=void 0;null!=b&&null!=(d=b.shift());)c(d.c,d.o)}zuix.componentize(a.view())}function r(a){var b=function(a){};if("string"===typeof a)try{b=eval.call(this,a)}catch(c){q.e(this,c,a)}return b}var q=l("../helpers/Logger")("Zuix.js"),m=l("../helpers/Util"),v=l("../helpers/ZxQuery"),F=l("../helpers/TaskQueue"),y=l("./ComponentContext"),M=l("./ContextController"),
x=l("./Componentizer")(),B=l("./OptionAttributes")();l("./ComponentCache");var K=[],H=[],J={},D=[],C={},A=[],P=function(a){m.isNoU(D[a])&&(D[a]=new F(function(a,b,c){p(a,b,c)}));return D[a]},G=[],Q=0,I=!0;a.prototype.field=function(a,b){return h.call(this,a,b)};a.prototype.load=function(a,b){var d;var f=b;d=x.resolvePath(a);var g=null;m.isNoU(f)?(f={},g=new y(zuix,f,p)):(f.componentId=d,m.isNoU(f.contextId)?(!1===f&&(f={}),f.contextId="zuix-ctx-"+ ++Q,g=e(f)):(g=n(f.contextId),null!==g?g.options(f):
g=e(f)));g.componentId!=d&&(g.componentId=d);m.isFunction(f.ready)&&(g.ready=f.ready);m.isFunction(f.error)&&(g.error=f.error);null==A[d]?(A[d]=!0,d=c(g,f)):(null==C[d]&&(C[d]=[]),C[d].push({c:g,o:f}),d=g);return d};a.prototype.unload=function(a){g(a);return this};a.prototype.controller=function(a){return k.call(this,a)};a.prototype.context=function(a,b){return n.call(this,a,b)};a.prototype.createComponent=function(a,b){null==b&&(b={});m.isNoU(b.contextId)&&(b.contextId="zuix-ctx-"+ ++Q);if(null!=
n(b.contextId))throw Error("Context arelady exists.");b.container=document.createElement("div");b.componentId=a;x.applyOptions(b.container,b);return e(b)};a.prototype.trigger=function(a,b,c){p(a,b,c);return this};a.prototype.hook=function(a,b){m.isNoU(b)?delete H[a]:H[a]=b;return this};a.prototype.using=function(a,b,c){b=x.resolvePath(b);a=a.toLowerCase();var d=a+"-"+b.hashCode();if("component"===a)a=n(d),null==a?zuix.load(b,{contextId:d,view:"",priority:-10,ready:function(a){"function"===typeof c&&
c(b,a)},error:function(){c(b,null)}}):"function"===typeof c&&c(b,a);else{var e="style"===a;if(0===v.find(a+'[id="'+d+'"]').length()){var g=document.head||document.getElementsByTagName("head")[0],h=document.createElement(a);h.type=e?"text/css":"text/javascript";h.id=d;g.appendChild(h);var k=function(a){e?h.styleSheet?h.styleSheet.cssText=a:h.appendChild(document.createTextNode(a)):h.innerText?h.innerText=a:h.appendChild(document.createTextNode(a));c&&c(b,d)},l="_res/"+a+"/"+d;a=f(l);null!=a?k(e?a.css:
a.controller):v.ajax({url:b,success:function(a){G.push({componentId:l,view:null,css:e?a:null,controller:e?null:a,using:b});k(a)},error:function(){g.removeChild(h);c&&c(b)}})}else console.log("Resource already added "+d+"("+b+")"),c&&c(b,d)}};a.prototype.lazyLoad=function(a,b){if(null!=a)x.lazyLoad(a,b);else return x.lazyLoad();return this};a.prototype.httpCaching=function(a){if(null!=a)t(a);else return t();return this};a.prototype.componentize=function(a){x.componentize(a);return this};a.prototype.store=
function(a,b){null!=b&&(this._store[a]=b);return this._store[a]};a.prototype.getResourcePath=function(a){return d(a)};a.prototype.bundle=function(a,b){if(m.isNoU(a))return G;if(a&&"boolean"===typeof a){q.t("bundle:start");var c=x.lazyLoad();x.lazyLoad(!1);x.componentize();if("function"===typeof b){var d=function(a){setTimeout(function(){x.willLoadMore()?(q.t("bundle:wait"),a(a)):(q.t("bundle:end"),x.lazyLoad(c),b())},1E3)};d(d)}}else{for(d=0;d<a.length;d++)a[d].css_applied&&delete a[d].css_applied,
"string"===typeof a[d].controller&&(a[d].controller=eval(a[d].controller));G=a}return this};a.prototype.$=v;a.prototype.TaskQueue=F;a.prototype.ZxQuery=v.ZxQuery;a.prototype.dumpCache=function(){return G};a.prototype.dumpContexts=function(){return K};u.exports=function(b){var c=new a;"loading"!=document.readyState?c.componentize():document.addEventListener("DOMContentLoaded",function(){c.componentize()});q.monitor(function(a,b){m.isFunction(c.monitor)&&c.monitor(a,Array.prototype.slice.call(b))});
return c}},{"../helpers/Logger":2,"../helpers/TaskQueue":3,"../helpers/Util":4,"../helpers/ZxQuery":5,"./ComponentCache":7,"./ComponentContext":8,"./Componentizer":9,"./ContextController":10,"./OptionAttributes":11}]},{},[6])(6)});
//# sourceMappingURL=zuix.min.js.map
