/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global'],function(q){"use strict";var E={};E.iterateOverAllPublicAggregations=function(e,c){var a=e.getMetadata().getAllAggregations();if(!a){c();}for(var n in a){var A=a[n];var v=this.getAggregation(e,n);c(A,v);}};E.getElementInstance=function(e){if(typeof e==="string"){return sap.ui.getCore().byId(e);}else{return e;}};E.hasAncestor=function(e,a){var p=e;while(p&&p!==a){p=p.getParent();}return!!p;};E.findAllPublicElements=function(e){var f=[];var t=this;var c=sap.ui.core;function a(e){if(!(e instanceof c.Element)){return;}if(e.getMetadata().getClass()===c.ComponentContainer){if(!e.getComponentInstance()){return;}a(e.getComponentInstance().getAggregation("rootControl"));}else{f.push(e);t.iterateOverAllPublicAggregations(e,function(A,v){if(v&&v.length){for(var i=0;i<v.length;i++){var o=v[i];a(o);}}else if(v instanceof c.Element){a(v);}});}}a(e);return f;};E.getDomRef=function(e){if(e){var d;if(e.getDomRef){d=e.getDomRef();}if(!d&&e.getRenderedDomRef){d=e.getRenderedDomRef();}return d;}};E.findAllPublicChildren=function(e){var f=this.findAllPublicElements(e);var i=f.indexOf(e);if(i>-1){f.splice(i,1);}return f;};E.isElementFiltered=function(c,t){var a=this;t=t||this.getControlFilter();var f=false;t.forEach(function(T){f=a.isInstanceOf(c,T);if(f){return false;}});return f;};E.findClosestControlInDom=function(n){if(n&&n.getAttribute("data-sap-ui")){return sap.ui.getCore().byId(n.getAttribute("data-sap-ui"));}else{if(n.parentNode){this.findClosestControlInDom(n.parentNode);}else{return null;}}};E.getAggregationMutators=function(e,a){var m=e.getMetadata();m.getJSONKeys();var A=m.getAggregation(a);return{get:A._sGetter,add:A._sMutator,remove:A._sRemoveMutator,insert:A._sInsertMutator};};E.getAggregation=function(e,a){var g=this.getAggregationMutators(e,a).get;var v=e[g]();v=v&&v.splice?v:(v?[v]:[]);return v;};E.addAggregation=function(p,a,e){if(this.hasAncestor(p,e)){throw new Error("Trying to add an element to itself or its successors");}var A=this.getAggregationMutators(p,a).add;p[A](e);};E.removeAggregation=function(p,a,e){var A=this.getAggregationMutators(p,a).remove;p[A](e);};E.insertAggregation=function(p,a,e,i){if(this.hasAncestor(p,e)){throw new Error("Trying to add an element to itself or its successors");}if(this.getAggregation(p,a).indexOf(e)!==-1){e.__bSapUiDtSupressParentChangeEvent=true;try{p.removeAggregation(a,e,true);}finally{delete e.__bSapUiDtSupressParentChangeEvent;}}var A=this.getAggregationMutators(p,a).insert;p[A](e,i);};E.isValidForAggregation=function(p,a,e){if(this.hasAncestor(p,e)){return false;}var A=p.getMetadata().getAggregation(a);return this.isInstanceOf(e,A.type);};E.isInstanceOf=function(e,t){var i=q.sap.getObject(t);if(typeof i==="function"){return e instanceof i;}else{return false;}};E.getDesignTimeMetadata=function(e){var d=e?e.getMetadata().getDesignTime():{};return d||{};};return E;},true);
