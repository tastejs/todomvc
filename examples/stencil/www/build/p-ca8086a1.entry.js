import{r as t,h as e,c as o}from"./p-8cf04e16.js";import{p as i}from"./p-052c23d4.js";const n=class{constructor(e){t(this,e),this.nowShowing="all"}handleNewTodoKeyDown(t){if(13!==t.keyCode)return;t.preventDefault();let e=this.newTodo.trim();e&&(this.model.addTodo(e),this.newTodo="")}toggle(t){this.model.toggle(t)}destroy(t){this.model.destroy(t)}edit(t){this.editing=t}save(t,e){this.model.save(t,e),this.editing=null}cancel(){this.editing=null}handleChange(t){this.newTodo=t.target.value}clearCompleted(){this.model.clearCompleted()}toggleAll(t){this.model.toggleAll(t.target.checked)}componentWillLoad(){window.addEventListener("hashchange",t=>{let e=t.newURL.split("#");switch(e.length>1?e[1]:"/all"){case"/active":this.nowShowing="active";break;case"/completed":this.nowShowing="completed";break;default:this.nowShowing="all"}},!1)}render(){let t,o;if(!this.model)return e("div",null,"todo-app web component requires a model");let i=this.model.todos,n=i.filter((function(t){switch(this.nowShowing){case"active":return!t.completed;case"completed":return t.completed;default:return!0}}),this).map((function(t){return e("todo-item",{key:t.id,todo:t,onToggle:t=>this.toggle(t.detail),onDestroy:t=>this.destroy(t.detail),onEdit:t=>this.edit(t.detail),editing:this.editing===t.id,onSave:t=>this.save(t.detail.todoId,t.detail.text),onCancel:()=>this.cancel()})}),this),a=i.reduce((function(t,e){return e.completed?t:t+1}),0),l=i.length-a;return(a||l)&&(o=e("todo-footer",{count:a,completedCount:l,nowShowing:this.nowShowing,onClearCompleted:()=>this.clearCompleted()})),i.length&&(t=e("section",{class:"main"},e("input",{id:"toggle-all",class:"toggle-all",type:"checkbox",onChange:t=>this.toggleAll(t),checked:0===a}),e("label",{htmlFor:"toggle-all"}),e("ul",{class:"todo-list"},n))),e("div",{class:"todo"},e("div",{class:"todoapp"},e("header",{class:"header"},e("h1",null,"todos"),e("input",{class:"new-todo",placeholder:"What needs to be done?",value:this.newTodo,onKeyDown:t=>this.handleNewTodoKeyDown(t),onInput:t=>this.handleChange(t),autoFocus:!0})),t,o))}};n.style=":focus{outline:0}.main{position:relative;z-index:2;border-top:1px solid #e6e6e6}.todoapp{font:14px 'Helvetica Neue', Helvetica, Arial, sans-serif;line-height:1.4em;background:#f5f5f5;color:#4d4d4d;min-width:230px;max-width:550px;margin:0 auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:300}.todoapp{background:#fff;margin:130px 0 40px 0;position:relative;-webkit-box-shadow:0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1);box-shadow:0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1)}.todoapp input::-webkit-input-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp input::-moz-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp input::input-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp h1{position:absolute;top:-155px;width:100%;font-size:100px;font-weight:100;text-align:center;color:rgba(175, 47, 47, 0.15);-webkit-text-rendering:optimizeLegibility;-moz-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;-webkit-margin-before:0.83em;margin-block-start:0.83em;-webkit-margin-after:0.83em;margin-block-end:0.83em}.new-todo,.edit{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;-webkit-box-shadow:inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);box-shadow:inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.new-todo{padding:16px 16px 16px 60px;border:none;background:rgba(0, 0, 0, 0.003);-webkit-box-shadow:inset 0 -2px 1px rgba(0,0,0,0.03);box-shadow:inset 0 -2px 1px rgba(0,0,0,0.03)}.todo-list{margin:0;padding:0;list-style:none}.toggle-all{width:1px;height:1px;border:none;opacity:0;position:absolute;right:100%;bottom:100%}.toggle-all+label{width:60px;height:34px;font-size:0;position:absolute;top:-53px;left:-13px;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.toggle-all+label:before{content:'❯';font-size:22px;color:#e6e6e6;padding:10px 27px 10px 27px}.toggle-all:checked+label:before{color:#737373}";var a,l=(function(t){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){var e={}.hasOwnProperty;function o(){for(var t=[],i=0;i<arguments.length;i++){var n=arguments[i];if(n){var a=typeof n;if("string"===a||"number"===a)t.push(n);else if(Array.isArray(n)&&n.length){var l=o.apply(null,n);l&&t.push(l)}else if("object"===a)for(var r in n)e.call(n,r)&&n[r]&&t.push(r)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):window.classNames=o}()}(a={path:void 0,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}}),a.exports);const r=class{constructor(e){t(this,e),this.clearCompleted=o(this,"clearCompleted",7)}render(){let t=i(this.count,"item"),o=null;this.completedCount>0&&(o=e("button",{class:"clear-completed",onClick:()=>this.clearCompleted.emit()},"Clear completed"));let n=this.nowShowing;return e("footer",{class:"footer"},e("span",{class:"todo-count"},e("strong",null,this.count)," ",t," left"),e("ul",{class:"filters"},e("li",null,e("a",{href:"#/",class:l({selected:"all"===n})},"All"))," ",e("li",null,e("a",{href:"#/active",class:l({selected:"active"===n})},"Active"))," ",e("li",null,e("a",{href:"#/completed",class:l({selected:"completed"===n})},"Completed"))),o)}};r.style="button{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.footer{color:#777;padding:10px 15px;height:20px;text-align:center;border-top:1px solid #e6e6e6}.footer:before{content:'';position:absolute;right:0;bottom:0;left:0;height:50px;overflow:hidden;-webkit-box-shadow:0 1px 1px rgba(0, 0, 0, 0.2),\n  0 8px 0 -3px #f6f6f6,\n  0 9px 1px -3px rgba(0, 0, 0, 0.2),\n  0 16px 0 -6px #f6f6f6,\n  0 17px 2px -6px rgba(0, 0, 0, 0.2);box-shadow:0 1px 1px rgba(0, 0, 0, 0.2),\n  0 8px 0 -3px #f6f6f6,\n  0 9px 1px -3px rgba(0, 0, 0, 0.2),\n  0 16px 0 -6px #f6f6f6,\n  0 17px 2px -6px rgba(0, 0, 0, 0.2)}.todo-count{float:left;text-align:left}.todo-count strong{font-weight:300}.filters{margin:0;padding:0;list-style:none;position:absolute;right:0;left:0}.filters li{display:inline}.filters li a{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px}.filters li a:hover{border-color:rgba(175, 47, 47, 0.1)}.filters li a.selected{border-color:rgba(175, 47, 47, 0.2)}.clear-completed,html .clear-completed:active{float:right;position:relative;line-height:20px;text-decoration:none;cursor:pointer}.clear-completed:hover{text-decoration:underline}";const s=class{constructor(e){t(this,e),this.toggle=o(this,"toggle",7),this.destroy=o(this,"destroy",7),this.edit=o(this,"edit",7),this.save=o(this,"save",7),this.cancel=o(this,"cancel",7)}handleSubmit(){let t=this.editText.trim();t&&this.editing?(this.save.emit({todoId:this.todo.id,text:t}),this.editText=t):this.destroy.emit()}handleChange(t){this.editing&&(this.editText=t.target.value)}handleKeyDown(t){27===t.which?(this.editText=this.todo.title,this.cancel.emit()):13===t.which&&this.handleSubmit()}onToggle(){this.toggle.emit(this.todo.id)}handleEdit(){this.edit.emit(this.todo.id),this.editText=this.todo.title}onDestroy(){this.destroy.emit(this.todo.id)}render(){return e("li",{class:l({completed:this.todo.completed,editing:this.editing})},e("div",{class:"view"},e("input",{class:"toggle",type:"checkbox",checked:this.todo.completed,onChange:()=>this.onToggle()}),e("label",{onDblClick:()=>this.handleEdit()},this.todo.title),e("button",{class:"destroy",onClick:()=>this.onDestroy()})),e("input",{class:"edit",value:this.editText,onBlur:()=>this.handleSubmit(),onInput:t=>this.handleChange(t),onKeyDown:t=>this.handleKeyDown(t)}))}};s.style="li{position:relative;font-size:24px;border-bottom:1px solid #ededed}button{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}:focus{outline:0}.edit{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;border:0;color:inherit;padding:6px;border:1px solid #999;-webkit-box-shadow:inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);box-shadow:inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}li.completed label{color:#d9d9d9;text-decoration:line-through}li.editing{border-bottom:none;padding:0}li.editing .edit{display:block;width:calc(100% - 43px);padding:12px 16px;margin:0 0 0 43px}li.editing .view{display:none}li .toggle{text-align:center;width:40px;height:auto;position:absolute;top:0;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}li .toggle+label{background-image:url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');background-repeat:no-repeat;background-position:center left}li .toggle:checked+label{background-image:url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E')}li label{word-break:break-all;padding:15px 15px 15px 60px;display:block;line-height:1.2;-webkit-transition:color 0.4s;transition:color 0.4s}li .destroy{display:none;position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#cc9a9a;margin-bottom:11px;-webkit-transition:color 0.2s ease-out;transition:color 0.2s ease-out}li .destroy:hover{color:#af5b5e}li .destroy:after{content:'×'}li:hover .destroy{display:block}li .edit{display:none}li.editing:last-child{margin-bottom:-1px}";export{n as todo_app,r as todo_footer,s as todo_item}