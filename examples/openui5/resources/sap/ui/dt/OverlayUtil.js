/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2015 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/dt/OverlayRegistry','sap/ui/dt/ElementUtil'],function(q,O,E){"use strict";var a={};a.getClosestOverlayFor=function(e){if(!e||!e.getParent){return null;}var p=e.getParent();var P=O.getOverlay(p);while(p&&!P){p=p.getParent();P=O.getOverlay(p);}return P;};a.getGeometry=function(g){var m,b,c,d;g.forEach(function(e){if(e){if(!m||e.position.left<m){m=e.position.left;}if(!c||e.position.top<c){c=e.position.top;}var r=e.position.left+e.size.width;if(!b||r>b){b=r;}var B=e.position.top+e.size.height;if(!d||B>d){d=B;}}});if(typeof m==="number"){return{size:{width:b-m,height:d-c},position:{left:m,top:c}};}};a.getClosestOverlayForType=function(t,o){while(o&&!E.isInstanceOf(o.getElementInstance(),t)){o=o.getParentElementOverlay();}return o;};a.getClosestScrollable=function(o){if(!o){return;}o=o.getParent();while(o&&o.isScrollable&&!o.isScrollable()){o=o.getParent();}return o&&o.isScrollable?o:null;};a.getFirstChildOverlay=function(o){if(!o){return;}var A=o.getAggregationOverlays();if(A.length>0){for(var i=0;i<A.length;i++){var b=A[i];var c=b.getChildren();if(c.length){return c[0];}}}};a.getLastChildOverlay=function(o){if(!o){return;}var A=o.getAggregationOverlays();if(A.length>0){for(var i=A.length-1;i>=0;i--){var b=A[i];var c=b.getChildren();if(c.length){return c[c.length-1];}}}};a.getNextSiblingOverlay=function(o){if(!o){return;}var p=o.getParentAggregationOverlay();if(p){var A=p.getChildren();var i=A.indexOf(o);if(i!==A.length-1){return A[i+1];}else{if(i===A.length-1){var P=o.getParentElementOverlay();A=P.getAggregationOverlays();for(i=A.indexOf(p)+1;i<A.length;i++){var b=A[i].getChildren();if(b.length){return b[0];}}}}}};a.getPreviousSiblingOverlay=function(o){if(!o){return;}var p=o.getParentAggregationOverlay();if(p){var A=p.getChildren();var i=A.indexOf(o);if(i>0){return A[i-1];}else{if(i===0){var P=o.getParentElementOverlay();A=P.getAggregationOverlays();for(i=A.indexOf(p)-1;i>=0;i--){var b=A[i].getChildren();if(b.length){return b[b.length-1];}}}}}};a.getNextOverlay=function(o){if(!o){return;}var f=this.getFirstChildOverlay(o);if(f){return f;}var n=this.getNextSiblingOverlay(o);if(n){return n;}do{o=o.getParentElementOverlay();n=this.getNextSiblingOverlay(o);}while(o&&!n);return n;};a.getPreviousOverlay=function(o){if(!o){return;}var p=o.getParentAggregationOverlay();if(!p){return;}var P=this.getPreviousSiblingOverlay(o);if(P){var l=P;do{P=l;l=this.getLastChildOverlay(P);}while(l);return P;}return o.getParentElementOverlay();};a.getRootOverlay=function(o){var p=o;do{o=p;p=o.getParentElementOverlay();}while(p);return o;};return a;},true);
